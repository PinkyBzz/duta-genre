<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="dutgen.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Web How's ur day</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%);
            min-height: 100vh;
            color: #222;
        }

        .container {
            max-width: 430px;
            margin: 40px auto;
            background: #fff;
            padding: 32px 24px 28px 24px;
            border-radius: 18px;
            box-shadow: 0 8px 32px rgba(80, 80, 180, 0.10), 0 1.5px 6px rgba(0,0,0,0.04);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 24px 0 10px 0;
            color: #4f46e5;
            letter-spacing: 0.5px;
        }

        .divider {
            width: 100%;
            height: 1px;
            background: #e0e7ff;
            margin: 18px 0 10px 0;
            border-radius: 2px;
        }

        .bg-change {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 10px;
            margin-bottom: 10px;
        }

        .bg-change label {
            font-size: 0.95rem;
            color: #555;
        }

        #bgColorPicker {
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 8px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.07);
            cursor: pointer;
        }

        h1 {
            margin: 10px 0 18px 0;
            font-size: 1.7rem;
            font-weight: 700;
            color: #3730a3;
        }

        .roda-emosi-image {
            max-width: 90%;
            height: auto;
            margin: 10px 0 18px 0;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(80,80,180,0.08);
        }

        .emoji-options {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 16px;
            margin: 10px 0 0 0;
        }

        .emoji {
            font-size: 2.2rem;
            cursor: pointer;
            background: #f1f5f9;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s, transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 1px 4px rgba(80,80,180,0.07);
        }

        .emoji:hover {
            background: #e0e7ff;
            transform: scale(1.18);
            box-shadow: 0 4px 16px rgba(80,80,180,0.13);
        }

        .result {
            margin-top: 18px;
            font-size: 1.1rem;
            font-weight: 500;
            color: #3730a3;
        }

        .result span.good { background: #4CAF50; }
        .result span.neutral { background: #FFC107; }
        .result span.bad { background: #F44336; }

        .result span {
            padding: 4px 12px;
            border-radius: 6px;
            color: #fff;
            margin-left: 6px;
        }

        .time-input, .calendar-input {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 18px 0 0 0;
        }

        .time-input input, .calendar-input input {
            padding: 7px 10px;
            font-size: 1rem;
            border-radius: 6px;
            border: 1px solid #e0e7ff;
            background: #f8fafc;
            outline: none;
            transition: border 0.2s;
        }

        .time-input input:focus, .calendar-input input:focus {
            border: 1.5px solid #6366f1;
        }

        .main-btn, #setTime, #spinWheel {
            background: linear-gradient(90deg, #6366f1 0%, #818cf8 100%);
            color: #fff;
            border: none;
            border-radius: 22px;
            padding: 10px 28px;
            font-size: 1.08rem;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(99,102,241,0.10);
            cursor: pointer;
            transition: background 0.2s, transform 0.18s, box-shadow 0.2s;
            outline: none;
            margin-left: 6px;
        }

        .main-btn:hover, #setTime:hover, #spinWheel:hover {
            background: linear-gradient(90deg, #818cf8 0%, #6366f1 100%);
            transform: scale(1.06);
            box-shadow: 0 6px 18px rgba(99,102,241,0.18);
        }

        .calendar-input label, .calendar-input span {
            font-size: 0.98rem;
            color: #555;
        }

        .color-picker {
            padding: 0;
            width: 32px;
            height: 32px;
            font-size: 1.3rem;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-left: 4px;
            border: 2px solid #e0e7ff;
            transition: border 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .color-picker.green { background-color: #4CAF50; color: #fff; }
        .color-picker.yellow { background-color: #FFC107; color: #fff; }
        .color-picker.red { background-color: #F44336; color: #fff; }

        .color-picker:hover {
            border: 2px solid #6366f1;
            box-shadow: 0 2px 8px rgba(99,102,241,0.13);
        }

        .text-area {
            margin: 22px 0 0 0;
            width: 100%;
            padding: 12px;
            font-size: 1.05rem;
            border-radius: 8px;
            border: 1.5px solid #e0e7ff;
            background: #f8fafc;
            resize: vertical;
            min-height: 60px;
            outline: none;
            transition: border 0.2s;
        }

        .text-area:focus {
            border: 1.5px solid #6366f1;
        }

        .notification {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: #6366f1;
            color: #fff;
            padding: 12px 28px;
            border-radius: 8px;
            box-shadow: 0 4px 18px rgba(99,102,241,0.18);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
            font-size: 1.05rem;
            z-index: 100;
        }

        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Roda Emosi Interaktif */
        .emotion-wheel-section {
            width: 100%;
            margin: 30px 0 0 0;
            background: #f8fafc;
            border-radius: 14px;
            box-shadow: 0 1px 6px rgba(99,102,241,0.07);
            padding: 18px 0 18px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #emotionWheel {
            margin: 0 auto;
            display: block;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(99,102,241,0.10);
        }

        #selectedEmotion {
            margin-top: 12px;
            font-weight: 600;
            color: #4f46e5;
            font-size: 1.1rem;
        }

        @media (max-width: 480px) {
            .container {
                max-width: 98vw;
                margin: 10px auto;
                padding: 10px 2vw 18px 2vw;
            }
            .bg-change { flex-direction: column; align-items: flex-start; }
            .emoji-options { gap: 10px; }
            .emotion-wheel-section { padding: 10px 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="bg-change">
            <label for="bgColorPicker">Background:</label>
            <input type="color" id="bgColorPicker" value="#ffffff" />
        </div>
        <h1>How Was Your Day?</h1>
        <img src="roda emosi.jpg" alt="Roda Emosi" class="roda-emosi-image" />
        <div class="divider"></div>
        <div class="section-title">Pilih emoji untuk menilai harimu</div>
        <div class="emoji-options">
            <span class="emoji" data-emotion="Good" data-color="good">üôÇ</span>
            <span class="emoji" data-emotion="Neutral" data-color="neutral">üòê</span>
            <span class="emoji" data-emotion="Bad" data-color="bad">üò¢</span>
            <span class="emoji" data-emotion="Disappointed" data-color="bad">üòû</span>
            <span class="emoji" data-emotion="Sad" data-color="bad">üòî</span>
            <span class="emoji" data-emotion="Worried" data-color="bad">üòü</span>
            <span class="emoji" data-emotion="Confused" data-color="neutral">üòï</span>
            <span class="emoji" data-emotion="Angry" data-color="bad">üò°</span>
        </div>
        <div class="result" id="result"></div>
        <div class="divider"></div>
        <div class="section-title">Set Pengingat</div>
        <div class="time-input">
            <input type="time" id="notifyTime" />
            <button id="setTime">Set Notification</button>
        </div>
        <div class="divider"></div>
        <div class="section-title">Catat Hari & Warna</div>
        <div class="calendar-input">
            <label for="calendar">Tanggal:</label>
            <input type="date" id="calendar" />
            <span>Warna hari:</span>
            <span class="color-picker green" id="green" data-color="good">üôÇ</span>
            <span class="color-picker yellow" id="yellow" data-color="neutral">üòê</span>
            <span class="color-picker red" id="red" data-color="bad">üò¢</span>
        </div>
        <textarea class="text-area" id="userText" placeholder="Ceritakan harimu di sini..."></textarea>
        <div class="divider"></div>
        <div class="section-title">Roda Emosi Interaktif</div>
        <div class="emotion-wheel-section">
            <svg id="emotionWheel" width="320" height="320" viewBox="0 0 320 320" style="cursor:pointer;"></svg>
            <button id="spinWheel" class="main-btn" style="margin-top:10px;">Putar Roda</button>
            <div id="selectedEmotion"></div>
        </div>
    </div>
    <div id="notification" class="notification"></div>
    <script>
        const emojis = document.querySelectorAll('.emoji');
        const result = document.getElementById('result');
        const notification = document.getElementById('notification');
        const setTimeButton = document.getElementById('setTime');
        const notifyTimeInput = document.getElementById('notifyTime');
        const calendarInput = document.getElementById('calendar');
        const colorPickers = document.querySelectorAll('.color-picker');
        const userText = document.getElementById('userText');
        const bgColorPicker = document.getElementById('bgColorPicker'); // Tambahkan referensi ke bgColorPicker

        // Tambahkan event listener untuk mengubah warna background
        bgColorPicker.addEventListener('input', function() {
            document.body.style.background = this.value;
        });

        emojis.forEach(emoji => {
            emoji.addEventListener('click', () => {
                const emotion = emoji.getAttribute('data-emotion');
                const colorClass = emoji.getAttribute('data-color');

                result.innerHTML = `You feel: <span class="${colorClass}">${emotion}</span>`;

                // Redirect if mood is in sadEmotions list
                const sadEmotions = ["Bad", "Disappointed", "Sad", "Worried", "Angry"];
                if (sadEmotions.includes(emotion)) {
                    window.location.href = "badMood.html"; // Redirect to the new page
                    return;
                }

                // Show notification
                showNotification("Thank you for sharing your mood!");
            });
        });

        setTimeButton.addEventListener('click', () => {
            const timeValue = notifyTimeInput.value;
            if (!timeValue) {
                alert('Please select a valid time!');
                return;
            }

            const now = new Date();
            const [hours, minutes] = timeValue.split(':').map(Number);
            const targetTime = new Date();
            targetTime.setHours(hours, minutes, 0, 0);

            const delay = targetTime.getTime() - now.getTime();

            if (delay < 0) {
                alert('The selected time is in the past. Please choose a future time.');
                return;
            }

            setTimeout(() => {
                showNotification("Timer notification");
            }, delay);

            alert(`Notification set for ${timeValue}`);
        });

        colorPickers.forEach(picker => {
            picker.addEventListener('click', () => {
                const selectedColor = picker.getAttribute('data-color');
                const selectedDate = calendarInput.value;

                if (!selectedDate) {
                    alert("Please select a date first.");
                    return;
                }

                alert(`You selected the color ${selectedColor} for ${selectedDate}`);

                // Store color selection for future use or display
                result.innerHTML = `For ${selectedDate}, your day was described as: <span class="${selectedColor}">${selectedColor.charAt(0).toUpperCase() + selectedColor.slice(1)}</span>`;
            });
        });

        // Save or display user text input
        userText.addEventListener('input', () => {
            const userDescription = userText.value;
            if (userDescription) {
                console.log(`User's day description: ${userDescription}`);
            }
        });

        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Roda Emosi Interaktif
        const emotions = [
            { label: 'Senang', color: '#FFD700', emoji: 'üòä' },
            { label: 'Sedih', color: '#87CEEB', emoji: 'üò¢' },
            { label: 'Marah', color: '#FF6347', emoji: 'üò°' },
            { label: 'Takut', color: '#8A2BE2', emoji: 'üò®' },
            { label: 'Terkejut', color: '#FFB347', emoji: 'üò≤' },
            { label: 'Tenang', color: '#90EE90', emoji: 'üòå' },
            { label: 'Cemas', color: '#FFA07A', emoji: 'üòü' },
            { label: 'Bingung', color: '#B0C4DE', emoji: 'üòï' }
        ];
        const wheel = document.getElementById('emotionWheel');
        const spinBtn = document.getElementById('spinWheel');
        const selectedDiv = document.getElementById('selectedEmotion');
        let currentRotation = 0;

        function drawWheel() {
            const cx = 160, cy = 160, r = 140;
            const n = emotions.length;
            const angle = 2 * Math.PI / n;
            wheel.innerHTML = '';
            for (let i = 0; i < n; i++) {
                const startAngle = i * angle - Math.PI/2;
                const endAngle = (i+1) * angle - Math.PI/2;
                const x1 = cx + r * Math.cos(startAngle);
                const y1 = cy + r * Math.sin(startAngle);
                const x2 = cx + r * Math.cos(endAngle);
                const y2 = cy + r * Math.sin(endAngle);
                const largeArc = angle > Math.PI ? 1 : 0;
                const pathData = [
                    `M ${cx} ${cy}`,
                    `L ${x1} ${y1}`,
                    `A ${r} ${r} 0 0 1 ${x2} ${y2}`,
                    'Z'
                ].join(' ');
                const path = document.createElementNS('http://www.w3.org/2000/svg','path');
                path.setAttribute('d', pathData);
                path.setAttribute('fill', emotions[i].color);
                path.setAttribute('data-idx', i);
                path.style.opacity = 0.95;
                path.addEventListener('click', () => selectEmotion(i));
                wheel.appendChild(path);
                // Tambah label emoji
                const labelAngle = startAngle + angle/2;
                const lx = cx + (r-50) * Math.cos(labelAngle);
                const ly = cy + (r-50) * Math.sin(labelAngle) + 8;
                const text = document.createElementNS('http://www.w3.org/2000/svg','text');
                text.setAttribute('x', lx);
                text.setAttribute('y', ly);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('font-size', '28');
                text.setAttribute('pointer-events', 'none');
                text.textContent = emotions[i].emoji;
                wheel.appendChild(text);
            }
        }
        function selectEmotion(idx) {
            selectedDiv.innerHTML = `Emosi yang dipilih: <span style='font-size:2rem;'>${emotions[idx].emoji}</span> <b>${emotions[idx].label}</b>`;
        }
        spinBtn.addEventListener('click', () => {
            const n = emotions.length;
            const randomIdx = Math.floor(Math.random() * n);
            const anglePer = 360 / n;
            const targetRotation = 360 * 3 + (360 - randomIdx * anglePer - anglePer/2);
            wheel.style.transition = 'transform 2s cubic-bezier(.17,.67,.83,.67)';
            wheel.style.transform = `rotate(${targetRotation}deg)`;
            currentRotation = targetRotation;
            setTimeout(() => {
                wheel.style.transition = '';
                wheel.style.transform = `rotate(${(targetRotation%360)}deg)`;
                selectEmotion(randomIdx);
            }, 2000);
        });
        // Reset transform on redraw
        wheel.style.transform = 'rotate(0deg)';
        drawWheel();
    </script>
    <script src="dutgen.js"></script>
</body>
</html>
