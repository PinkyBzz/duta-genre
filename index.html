<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DutGen - Daily Tracker</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#f0f4f8">
    <link rel="apple-touch-icon" href="icon-192.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- 3D Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.fog.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'blob': 'blob 7s infinite',
                    },
                    keyframes: {
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
        }
        /* Holographic Effect */
        .glass-card::after {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(
                125deg,
                transparent 0%,
                rgba(255, 255, 255, 0.3) 30%,
                rgba(255, 182, 193, 0.3) 40%, /* Pinkish */
                rgba(173, 216, 230, 0.3) 60%, /* Blueish */
                rgba(255, 255, 255, 0.3) 70%,
                transparent 100%
            );
            opacity: 0;
            transition: opacity 0.4s ease;
            pointer-events: none;
            z-index: 10;
        }
        .glass-card:hover::after {
            opacity: 1;
        }
        
        .modal-overlay {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(5px);
        }
        /* Hide scrollbar for clean UI */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
        /* Magic Cursor */
        #magicCursor {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
        /* Page Transition */
        #page-transition {
            transition: opacity 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-[#f0f4f8] text-slate-600 font-sans min-h-screen relative overflow-x-hidden selection:bg-rose-200 selection:text-rose-900">

    <!-- Page Transition Overlay -->
    <div id="page-transition" class="fixed inset-0 bg-white z-[100] pointer-events-none opacity-100"></div>

    <!-- Magic Cursor Canvas -->
    <canvas id="magicCursor"></canvas>

    <!-- 3D Background (Vanta.js) -->
    <div id="vanta-bg" class="fixed inset-0 w-full h-full pointer-events-none z-[-1]"></div>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto px-6 py-12">
        
        <!-- Header -->
        <header class="flex justify-between items-end mb-12 animate__animated animate__fadeInDown">
            <div>
                <h1 id="dynamicGreeting" class="text-4xl font-bold text-slate-800 tracking-tight mb-2">Hello, Friend!</h1>
                <p class="text-lg text-slate-600 font-medium">How is your heart doing today?</p>
                <p id="dailyQuote" class="text-slate-500 mt-2 italic animate__animated animate__fadeIn" style="animation-delay: 0.5s"></p>
            </div>
            <button onclick="resetDailyMood()" class="p-3 bg-white/50 hover:bg-white rounded-full transition-all shadow-sm group" title="Reset Daily Mood">
                <span class="iconify w-5 h-5 text-slate-500 group-hover:text-rose-500 transition-colors" data-icon="lucide:refresh-cw"></span>
            </button>
        </header>

        <!-- Section 1: Quick Relief -->
        <section class="mb-12 animate__animated animate__fadeInUp" id="tools-section">
            <div class="flex items-center gap-3 mb-6">
                <div class="p-2 bg-rose-100 rounded-xl text-rose-600">
                    <span class="iconify w-5 h-5" data-icon="lucide:zap"></span>
                </div>
                <h2 class="text-xl font-bold text-slate-800">Quick Relief</h2>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Bad Mood Card -->
                <a href="badMood.html" class="group glass-card p-8 rounded-[2rem] hover:bg-white/90 transition-all duration-300 shadow-sm hover:shadow-md hover:-translate-y-1 border border-white/60 relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-rose-100/50 rounded-full blur-3xl -mr-16 -mt-16 transition-all group-hover:bg-rose-200/50"></div>
                    
                    <div class="relative z-10">
                        <div class="w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-rose-500 mb-6 shadow-sm group-hover:scale-110 transition-transform duration-300">
                            <span class="iconify w-7 h-7" data-icon="lucide:frown"></span>
                        </div>
                        <h3 class="text-2xl font-bold text-slate-800 mb-2">Bad Mood?</h3>
                        <p class="text-slate-600 leading-relaxed">Support tools for difficult moments. Breathing, music, and chat.</p>
                    </div>
                </a>

                <!-- Worry Shredder Card -->
                <a href="shredder.html" class="group glass-card p-8 rounded-[2rem] hover:bg-white/90 transition-all duration-300 shadow-sm hover:shadow-md hover:-translate-y-1 border border-white/60 relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-orange-100/50 rounded-full blur-3xl -mr-16 -mt-16 transition-all group-hover:bg-orange-200/50"></div>
                    
                    <div class="relative z-10">
                        <div class="w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-orange-500 mb-6 shadow-sm group-hover:scale-110 transition-transform duration-300">
                            <span class="iconify w-7 h-7" data-icon="lucide:shredder"></span>
                        </div>
                        <h3 class="text-2xl font-bold text-slate-800 mb-2">Worry Shredder</h3>
                        <p class="text-slate-600 leading-relaxed">Write down your worries and shred them into oblivion.</p>
                    </div>
                </a>
            </div>
        </section>

        <!-- Section 2: Deep Healing -->
        <section class="mb-12 animate__animated animate__fadeInUp" style="animation-delay: 0.1s">
            <div class="flex items-center gap-3 mb-6">
                <div class="p-2 bg-indigo-100 rounded-xl text-indigo-600">
                    <span class="iconify w-5 h-5" data-icon="lucide:sparkles"></span>
                </div>
                <h2 class="text-xl font-bold text-slate-800">Deep Healing</h2>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Pixel Thoughts Card -->
                <a href="pixelThoughts.html" class="group glass-card p-8 rounded-[2rem] hover:bg-white/90 transition-all duration-300 shadow-sm hover:shadow-md hover:-translate-y-1 border border-white/60 relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-indigo-100/50 rounded-full blur-3xl -mr-16 -mt-16 transition-all group-hover:bg-indigo-200/50"></div>
                    
                    <div class="relative z-10">
                        <div class="w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-indigo-500 mb-6 shadow-sm group-hover:scale-110 transition-transform duration-300">
                            <span class="iconify w-7 h-7" data-icon="lucide:stars"></span>
                        </div>
                        <h3 class="text-2xl font-bold text-slate-800 mb-2">Stardust</h3>
                        <p class="text-slate-600 leading-relaxed">Turn your heavy thoughts into stardust. Let them drift away.</p>
                    </div>
                </a>

                <!-- Drawing Card -->
                <a href="gambar.html" class="group glass-card p-8 rounded-[2rem] hover:bg-white/90 transition-all duration-300 shadow-sm hover:shadow-md hover:-translate-y-1 border border-white/60 relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-emerald-100/50 rounded-full blur-3xl -mr-16 -mt-16 transition-all group-hover:bg-emerald-200/50"></div>
                    
                    <div class="relative z-10">
                        <div class="w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-emerald-500 mb-6 shadow-sm group-hover:scale-110 transition-transform duration-300">
                            <span class="iconify w-7 h-7" data-icon="lucide:palette"></span>
                        </div>
                        <h3 class="text-2xl font-bold text-slate-800 mb-2">Art Therapy</h3>
                        <p class="text-slate-600 leading-relaxed">Express yourself with Finger Drawing or Touch Canvas.</p>
                    </div>
                </a>
            </div>
        </section>

        <!-- Mood Chart Section -->
        <section class="mb-10 animate__animated animate__fadeInUp" style="animation-delay: 0.2s" id="journal-section">
            <div class="glass-card rounded-[2rem] p-8 shadow-sm border border-white/60">
                <div class="flex items-center justify-between mb-6">
                    <div class="flex items-center gap-3">
                        <div class="p-2 bg-violet-100 rounded-xl text-violet-600">
                            <span class="iconify w-5 h-5" data-icon="lucide:bar-chart-2"></span>
                        </div>
                        <h2 class="text-xl font-bold text-slate-800">Mood Analytics</h2>
                    </div>
                    <span class="text-xs font-bold px-4 py-2 bg-white rounded-full text-slate-500 shadow-sm">Last 7 Days</span>
                </div>
                <div class="h-64 w-full">
                    <canvas id="moodChart"></canvas>
                </div>

                <!-- History List -->
                <div class="mt-8 pt-6 border-t border-slate-100">
                    <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-4">Recent Thoughts</h3>
                    <div id="journalHistory" class="space-y-3 max-h-60 overflow-y-auto pr-2 custom-scrollbar">
                        <!-- JS will populate this -->
                        <div class="text-center text-slate-400 text-sm py-4">No entries yet.</div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Daily Check-in Modal -->
    <div id="checkInModal" class="fixed inset-0 modal-overlay z-50 hidden flex items-center justify-center p-4">
        <div class="glass-card w-full max-w-md rounded-3xl p-8 shadow-2xl animate__animated animate__zoomIn">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-bold text-slate-800 mb-2">Daily Check-in</h2>
                <p class="text-slate-500">How are you feeling right now?</p>
            </div>

            <!-- Logo / Icon -->
            <div class="mb-8 flex justify-center">
                <div class="w-32 h-32 bg-gradient-to-tr from-violet-100 to-rose-100 rounded-full flex items-center justify-center shadow-inner border-4 border-white/50 relative group">
                    <div class="absolute inset-0 bg-white/30 rounded-full blur-xl group-hover:blur-2xl transition-all"></div>
                    <span class="iconify w-16 h-16 text-violet-500 relative z-10 drop-shadow-sm" data-icon="lucide:heart-handshake"></span>
                    
                    <!-- Floating particles decoration -->
                    <span class="iconify absolute top-6 right-6 w-4 h-4 text-rose-400 animate-bounce" style="animation-delay: 0.2s" data-icon="lucide:sparkles"></span>
                    <span class="iconify absolute bottom-6 left-6 w-4 h-4 text-indigo-400 animate-bounce" style="animation-delay: 0.5s" data-icon="lucide:star"></span>
                </div>
            </div>

            <!-- Inputs -->
            <div class="space-y-4">
                <div>
                    <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1">Current Mood</label>
                    <select id="moodSelect" class="w-full p-3 bg-white/60 border border-slate-200 rounded-xl text-slate-700 focus:outline-none focus:ring-2 focus:ring-violet-400">
                        <option value="5">üòÑ Amazing</option>
                        <option value="4">üôÇ Good</option>
                        <option value="3">üòê Okay</option>
                        <option value="2">üòï Not so good</option>
                        <option value="1">üò´ Terrible</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1">Mini Journal</label>
                    <textarea id="journalInput" rows="3" class="w-full p-3 bg-white/60 border border-slate-200 rounded-xl text-slate-700 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-400" placeholder="Why do you feel this way?"></textarea>
                </div>

                <button onclick="saveDailyCheckIn()" class="w-full py-3 bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-bold rounded-xl shadow-lg shadow-violet-200 hover:shadow-xl transition-all active:scale-95">
                    Save & Continue
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- Logic for Daily Check-in & Chart ---

        const today = new Date().toISOString().split('T')[0];
        const modal = document.getElementById('checkInModal');
        
        // 1. Check if already checked in
        function init() {
            const data = JSON.parse(localStorage.getItem('dutgen_logs') || '{}');
            
            if (!data[today]) {
                // Show modal if no data for today
                modal.classList.remove('hidden');
            }
            
            renderChart(data);
            renderHistory(data);
            
            // Register Service Worker
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('SW Registered'))
                .catch(err => console.log('SW Error', err));
            }
        }

        // 2. Save Check-in
        function saveDailyCheckIn() {
            const moodValue = document.getElementById('moodSelect').value;
            const journal = document.getElementById('journalInput').value;
            
            const data = JSON.parse(localStorage.getItem('dutgen_logs') || '{}');
            
            data[today] = {
                moodValue: parseInt(moodValue),
                journal: journal,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('dutgen_logs', JSON.stringify(data));
            
            // Close modal with animation
            const modalContent = modal.querySelector('div');
            modalContent.classList.remove('animate__zoomIn');
            modalContent.classList.add('animate__zoomOut');
            
            setTimeout(() => {
                modal.classList.add('hidden');
                modalContent.classList.remove('animate__zoomOut');
                modalContent.classList.add('animate__zoomIn'); // Reset for next time
                init(); // Re-render chart
            }, 300);
        }

        // 3. Reset (Dev tool)
        function resetDailyMood() {
            if(confirm('Reset today\'s mood log?')) {
                const data = JSON.parse(localStorage.getItem('dutgen_logs') || '{}');
                delete data[today];
                localStorage.setItem('dutgen_logs', JSON.stringify(data));
                location.reload();
            }
        }

        // 5. Render Chart
        function renderChart(data) {
            const ctx = document.getElementById('moodChart').getContext('2d');
            
            // Get last 7 days dates
            const labels = [];
            const values = [];
            
            for (let i = 6; i >= 0; i--) {
                const d = new Date();
                d.setDate(d.getDate() - i);
                const dateStr = d.toISOString().split('T')[0];
                const dayName = d.toLocaleDateString('en-US', { weekday: 'short' });
                
                labels.push(dayName);
                
                if (data[dateStr]) {
                    values.push(data[dateStr].moodValue);
                } else {
                    values.push(null); // Gap in chart
                }
            }
// Destroy existing chart if it exists to prevent overlay
            if (window.myMoodChart) {
                window.myMoodChart.destroy();
            }

            window.myMoodChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Mood Level',
                        data: values,
                        borderColor: '#8b5cf6', // Violet-500
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        borderWidth: 3,
                        tension: 0.4, // Smooth curves
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#8b5cf6',
                        pointRadius: 5,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 5,
                            ticks: {
                                stepSize: 1,
                                callback: function(value) {
                                    const map = {1: 'üò´', 2: 'üòï', 3: 'üòê', 4: 'üôÇ', 5: 'üòÑ'};
                                    return map[value];
                                },
                                font: { size: 20 }
                            },
                            grid: { borderDash: [5, 5] }
                        },
                        x: {
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        // 6. Render History
        function renderHistory(data) {
            const container = document.getElementById('journalHistory');
            const dates = Object.keys(data).sort().reverse(); // Newest first
            
            if (dates.length === 0) return;

            let html = '';
            const moodMap = {1: 'üò´', 2: 'üòï', 3: 'üòê', 4: 'üôÇ', 5: 'üòÑ'};
            const moodColors = {
                1: 'bg-slate-100 text-slate-500', 
                2: 'bg-orange-100 text-orange-500', 
                3: 'bg-blue-100 text-blue-500', 
                4: 'bg-teal-100 text-teal-500', 
                5: 'bg-rose-100 text-rose-500'
            };

            dates.forEach(date => {
                const entry = data[date];
                const dateObj = new Date(date);
                const dateDisplay = dateObj.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                const moodIcon = moodMap[entry.moodValue] || 'üòê';
                const colorClass = moodColors[entry.moodValue] || 'bg-slate-100 text-slate-500';
                
                html += `
                <div class="flex items-start gap-4 p-3 rounded-xl hover:bg-white/50 transition-colors border border-transparent hover:border-white/60">
                    <div class="flex-shrink-0 w-10 h-10 ${colorClass} rounded-full flex items-center justify-center text-xl shadow-sm">
                        ${moodIcon}
                    </div>
                    <div class="flex-grow">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-xs font-bold text-slate-400 uppercase">${dateDisplay}</span>
                        </div>
                        <p class="text-slate-700 text-sm leading-relaxed">${entry.journal || 'No notes.'}</p>
                    </div>
                </div>
                `;
            });

            container.innerHTML = html;
        }

        // 7. Daily Quotes
        const quotes = [
            "‚ÄúThis too shall pass.‚Äù",
            "‚ÄúBreathe. It‚Äôs just a bad day, not a bad life.‚Äù",
            "‚ÄúYou are enough just as you are.‚Äù",
            "‚ÄúOne day at a time.‚Äù",
            "‚ÄúFeelings are visitors; let them come and go.‚Äù",
            "‚ÄúPeace comes from within. Do not seek it without.‚Äù",
            "‚ÄúYou don‚Äôt have to control your thoughts. You just have to stop letting them control you.‚Äù",
            "‚ÄúHappiness is not something ready made. It comes from your own actions.‚Äù",
            "‚ÄúThe best way out is always through.‚Äù",
            "‚ÄúBe gentle with yourself. You‚Äôre doing the best you can.‚Äù"
        ];

        function updateQuote() {
            const quoteEl = document.getElementById('dailyQuote');
            const randomIndex = Math.floor(Math.random() * quotes.length);
            quoteEl.textContent = quotes[randomIndex];
        }

        // Run init
        window.addEventListener('DOMContentLoaded', () => {
            init();
            updateQuote();
            
            // Initialize Vanta.js 3D Background (Aurora Effect)
            try {
                VANTA.FOG({
                    el: "#vanta-bg",
                    mouseControls: true,
                    touchControls: true,
                    gyroControls: false,
                    minHeight: 200.00,
                    minWidth: 200.00,
                    highlightColor: 0x22d3ee, // Cyan
                    midtoneColor: 0xc084fc,   // Purple
                    lowlightColor: 0x818cf8,  // Indigo
                    baseColor: 0xf0f9ff,      // Very light blue
                    blurFactor: 0.9,          // High blur for aurora look
                    speed: 2.5,               // Faster movement
                    zoom: 1.2
                });
            } catch (e) {
                console.log("Vanta JS Error:", e);
            }

            // --- Dynamic Greeting ---
            function updateGreeting() {
                const hour = new Date().getHours();
                const greetingEl = document.getElementById('dynamicGreeting');
                let greeting = "Hello";
                let icon = "üëã";

                if (hour >= 5 && hour < 11) {
                    greeting = "Good Morning";
                    icon = "‚òÄÔ∏è";
                } else if (hour >= 11 && hour < 15) {
                    greeting = "Good Afternoon";
                    icon = "üå§Ô∏è";
                } else if (hour >= 15 && hour < 18) {
                    greeting = "Good Evening";
                    icon = "üåá";
                } else {
                    greeting = "Good Night";
                    icon = "üåô";
                }

                if(greetingEl) {
                    greetingEl.innerHTML = `${greeting}, Friend ${icon}`;
                }
            }
            updateGreeting();

            // --- Magic Cursor Logic ---
            const cursorCanvas = document.getElementById('magicCursor');
            if (cursorCanvas) {
                const ctx = cursorCanvas.getContext('2d');
                let width = window.innerWidth;
                let height = window.innerHeight;
                
                function resizeCursor() {
                    width = window.innerWidth;
                    height = window.innerHeight;
                    cursorCanvas.width = width;
                    cursorCanvas.height = height;
                }
                window.addEventListener('resize', resizeCursor);
                resizeCursor();

                let particles = [];
                let mouse = { x: width/2, y: height/2 };

                window.addEventListener('mousemove', (e) => {
                    mouse.x = e.clientX;
                    mouse.y = e.clientY;
                    createParticle();
                });

                function createParticle() {
                    particles.push({
                        x: mouse.x,
                        y: mouse.y,
                        size: Math.random() * 5 + 2,
                        color: `hsl(${Math.random() * 60 + 330}, 100%, 70%)`, // Pink/Rose hues
                        speedX: Math.random() * 2 - 1,
                        speedY: Math.random() * 2 - 1,
                        life: 1
                    });
                }

                function animateCursor() {
                    ctx.clearRect(0, 0, width, height);
                    particles.forEach((p, index) => {
                        p.x += p.speedX;
                        p.y += p.speedY;
                        p.life -= 0.02;
                        p.size -= 0.1;
                        
                        ctx.fillStyle = p.color;
                        ctx.globalAlpha = p.life;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, Math.max(0, p.size), 0, Math.PI * 2);
                        ctx.fill();
                        
                        if(p.life <= 0 || p.size <= 0) particles.splice(index, 1);
                    });
                    requestAnimationFrame(animateCursor);
                }
                animateCursor();
            }

            // --- Page Transition Logic ---
            const transitionOverlay = document.getElementById('page-transition');
            if (transitionOverlay) {
                // Fade In on Load
                transitionOverlay.classList.add('opacity-0');
                setTimeout(() => {
                    transitionOverlay.style.display = 'none'; // Hide after fade
                }, 500);

                // Fade Out on Link Click
                document.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', e => {
                        const href = link.getAttribute('href');
                        // Only intercept internal links
                        if (href && !href.startsWith('#') && !href.startsWith('javascript')) {
                            e.preventDefault();
                            transitionOverlay.style.display = 'block';
                            // Force reflow
                            void transitionOverlay.offsetWidth; 
                            transitionOverlay.classList.remove('opacity-0');
                            
                            setTimeout(() => {
                                window.location.href = href;
                            }, 500);
                        }
                    });
                });
            }
        });

    </script>
</body>
</html>